!function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){var a,r;a=jQuery,r={volume:.8,init:function(){r.checkActiveControls(),a(document).on("doPlayerInit",(function(e,t){r.initPlayer(),7===t.skin_id&&wp.playlist.initialize()})),r.initPlayer(),a(document).on("input",".qap_volume_bar-seek",r.handleProgressVolumeBar),a(document).on("click",".player_control",r.handleControl),a(document).on("click",".volume_icon",r.handleVolume),a(document).on("click",".qap_playlist-item",r.updateTrackItem),a(document).on("click",".menu_item-label",r.handleSettingsMenu),a(document).on("change","[name=player_speed]",r.handlePlayerSpeed)},checkActiveControls:function(){"true"===localStorage.getItem("qap_suffle_active")&&a(".qap_suffle").addClass("active"),"true"===localStorage.getItem("qap_repeat_active")&&(a(".qap_audio").prop("loop",!0),a(".qap_repeat").addClass("active"))},handlePlayerSpeed:function(){var e=a(this).val(),t=a(this).parents(".qap").find(".mejs-container").attr("id");mejs.players[t].media.playbackRate=parseFloat(e)},handleSettingsMenu:function(e){e.stopImmediatePropagation();var t=a(this).parents(".qap"),r=a(this).data("target");a(".menu_item",t).removeClass("active"),a(r).length?a(r,t).addClass("active"):a(".menu_item-home",t).addClass("active")},handleVolume:function(e){e.stopImmediatePropagation();var t=a(this).parents(".qap").find(".mejs-container").attr("id"),i=mejs.players[t],l=a(".qap_volume_bar-seek, .qap_volume_bar-bar");a(this).hasClass("muted")?(a(this).removeClass("muted"),l.val(r.volume),i.volume=r.volume):(a(this).addClass("muted"),l.val(0),i.volume=0)},updateTrackItem:function(){a(".qap_playlist-item").removeClass("active");var e=a(this);e.addClass("active");var t=e.parents(".qap"),i=e.data("track");r.updateTrack(t,i)},updateTrack:function(e,t){var r=e.find(".mejs-container").attr("id"),i=mejs.players[r],l=t.audio_file,o=t.track_title,s=t.artist,n=t.album,c=t.poster;i.src=l,i.play(),a(".qap_poster",e).attr("src",c),a(".qap_playlist-title",e).html(o&&'<i class="dashicons dashicons-format-audio"></i>'+o),a(".qap_playlist-album",e).html(n&&'<i class="dashicons dashicons-album"></i>'+n),a(".qap_playlist-artist",e).html(s&&'<i class="dashicons dashicons-admin-users"></i>'+s),a(".track_info-current_no",e).text(a(".qap_playlist-item.active").index()+1),a(".track_time-duration",e).text(a(".qap_playlist-item.active .qap_playlist-item-duration").text())},handleControl:function(){var e=a(this),t=e.parents(".qap"),i=t.find(".mejs-container").attr("id"),l=mejs.players[i];if(e.hasClass("qap_restart")&&(l.currentTime=0,l.play()),e.hasClass("qap_play"))l.play();else if(e.hasClass("qap_pause"))l.pause();else if(e.hasClass("qap_skipback")||e.hasClass("qap_skipforward")){var o=a(".qap_playlist-item.active",t),s=e.hasClass("qap_skipback")?a(o).prev():a(o).next();r.nextPrev(t,s)}else if(e.hasClass("qap_rewind")||e.hasClass("qap_forward")){var n=l.currentTime,c=e.hasClass("qap_rewind")?n-15:n+15;l.currentTime=c}else if(e.hasClass("qap_progress")){var p=a(".qap_progress-seek",e).val();a(".qap_progress-seek",e).blur(),l.currentTime=p*(l.duration/100)}else if(e.hasClass("qap_volume")){var d=a(".qap_volume_bar-seek",e).val();a(".qap_volume_bar-seek",e).blur(),l.volume=d}else if(e.hasClass("playlist_icon"))a(".qap_playlist-tracks",t).slideToggle();else if(e.hasClass("qap_settings"))a(".qap_settings-menu",t).slideToggle();else if(e.hasClass("qap_suffle")){var u=a(this).hasClass("active");localStorage.setItem("qap_suffle_active",!u),a(this).toggleClass("active")}else if(e.hasClass("qap_repeat")){var _=a(this).hasClass("active");a(".qap_audio").prop("loop",!_),localStorage.setItem("qap_repeat_active",!_),a(this).toggleClass("active")}},nextPrev:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(a(".qap_playlist-item").length<2)){var i=a(".qap_playlist-item.active",e);if(t||(t=a(i).next()),t.length){a(".qap_suffle",e).hasClass("active")&&o(),i.removeClass("active"),t.addClass("active");var l=t.data("track");r.updateTrack(e,l)}}function o(){var r=a(".qap_playlist-item",e).length,l=Math.floor(Math.random()*r);l===i.index()?o():t=a(".qap_playlist-item",e).eq(l)}},handleProgressVolumeBar:function(){var e=a(this).parents(".qap").find(".mejs-container").attr("id"),t=mejs.players[e],r=a(this).val();a(this).next().val(r),t.volume=r},initPlayer:function(){a(".qap_audio").mediaelementplayer({success:function(e,t,i){i.load();var l=i.container.parents(".qap");a(".qap_volume_bar-seek, .qap_volume_bar-bar",l).val(i.volume),a(e).on("play",(function(){a(document).trigger("qap_play",{parent:l,player:i}),l.addClass("is_playing").removeClass("is_paused")})),a(e).on("pause",(function(){l.removeClass("is_playing").addClass("is_paused")})),a(e).on("ended",(function(){r.nextPrev(l)})),a(e).on("timeupdate",(function(){var e=i.duration,t=i.currentTime,r=t/e*100;a(".qap_progress-seek, .qap_progress-bar",l).is(":focus")||a(".qap_progress-seek, .qap_progress-bar",l).val(isNaN(r)?0:r),a(".track_time-current",l).text(new Date(1e3*t).toISOString().substr(14,5))}))}})}},a(document).ready(r.init)},function(e,t,a){e.exports=a(2)},function(e,t,a){"use strict";a.r(t);a(3),a(0)},function(e,t){function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,i=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){i=!0,l=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var o,s;o=jQuery,s={init:function(){s.metaboxInit(),s.initSlider(),s.disableStyles(),s.checkControls(),s.playerBgColor(),s.playerTextColor(),s.playerButtonColor(),s.playerButtonHoverColor(),o("input.shortcode").click((function(){o(this).select()})),o(document).on("click",".quick-audio-player-metabox-sidebar a",s.metaboxTab),o(document).on("click",".select_audio",s.selectAudio),o(document).on("click",".delete_audio",s.deleteAudio),o(document).on("click",".select_poster",s.selectPoster),o(document).on("click",".delete_poster",s.deletePoster),o(document).on("click",".wp-military-switch",s.clickSwitch),o(document).on("click",".skins__item",s.handleSkins),o(document).on("click","#controls .metabox_field:not(.disabled) .switch",s.handleControls),o(document).on("click",".player_width .wpmilitary-slider-reset",s.resetWidth),o(document).on("click",".border_radius .wpmilitary-slider-reset",s.resetBorderRadius),o(document).on("slide",".player_width .wpmilitary-slider",s.setPlayerWidth),o(document).on("slide",".border_radius .wpmilitary-slider",s.setBorderRadius),o(document).on("click",".metabox_field.disabled",s.showControlToast),o(document).on("change","#disable_autoplay",s.showAutoplayToast),s.playlistSortable(),o(document).on("change","input[name=player_type]",s.handlePlayerType),o(document).on("click","#add_new_track",s.newTrack),o(document).on("click",".duplicate_track",s.duplicateTrack),o(document).on("keyup change",".track_title_input",s.updateTrackTitle),o(document).on("click",".delete_track",s.deleteTrack),o(document).on("click",".edit_track",s.toggleTrack),o(document).on("click",".skin_type .input_field",s.showSkinTypeToast),s.getTracks()},showSkinTypeToast:function(){return o.toast({text:"To change the skin type, change the player type from <b>General</b> settings tab.",icon:"info",hideAfter:6e3,position:"top-right"})},handlePlayerType:function(){var e=o(this).val();o(".skin_type .input_field").removeClass("active"),"playlist"===e?(o(".single_type").addClass("hidden"),o(".playlist_type").removeClass("hidden"),o(".playlist_track:first-child .playlist_track_body").slideDown()):(o(".playlist_type").addClass("hidden"),o(".single_type").removeClass("hidden"));var t={player_type:e};s.getPlayer(t)},playlistSortable:function(){o(".playlist_tracks").sortable({placeholder:"ui-state-highlight",update:function(e,t){s.sortTracks()}})},toggleTrack:function(){var e=o(this).parents(".playlist_track");o(".playlist_track_body",e).slideToggle()},sortTracks:function(){o(".playlist_track",o(document)).each((function(e){o(".track_sl",o(this)).text("".concat(e+1,"."))}))},deleteTrack:function(){o(this).parents(".playlist_track").remove(),s.sortTracks()},updateTrackTitle:function(){var e=o(this).parents(".playlist_track"),t=o(this).val();o(".header_track_title",e).text(t)},duplicateTrack:function(){o(".playlist_track_body").slideUp();var e=o(this).parents(".playlist_track"),t=o(".playlist_tracks .playlist_track").length,a=e.clone();o(".track_sl",a).text("".concat(t+1,".")),o(".playlist_track_body",a).show();var r=a.html().replace(/__\d/g,"__".concat(t)).replace(/playlist_item\[\d\]/g,"playlist_item[".concat(t,"]"));e.after('<div class="playlist_track">'.concat(r,"</div>")),s.sortTracks()},newTrack:function(){o(".playlist_track_body").slideUp();var e=o(".playlist_tracks .playlist_track").length,t=o(".playlist_track:first-child").clone();o(":input",t).attr("value",""),o(".track_sl",t).text("".concat(e+1,".")),o(".header_track_title",t).text("Untitled"),o(".poster_preview img",t).attr("src",""),o(".playlist_track_body",t).show();var a=t.html().replace(/__\d/g,"__".concat(e)).replace(/playlist_item\[\d\]/g,"playlist_item[".concat(e,"]"));o(this).before('<div class="playlist_track">'.concat(a,"</div>"))},checkPosterControl:function(){var e=o("#skin").val();[4].includes(parseInt(e))?o(".poster").removeClass("disabled"):o(".poster").addClass("disabled")},checkControls:function(e){e||(e=o(".player-skins-wrap").data("controls")),o("#controls .metabox_field:not(.autoplay):not(.loop):not(.muted)").find("[type=checkbox]").prop("checked",!1),e&&Object.entries(e).map((function(e){var t=i(e,2),a=(t[0],t[1]);return o(".".concat(a)).find("[type=checkbox]").prop("checked",!0)}))},showAutoplayToast:function(){document.querySelector("audio").pause();var e=o(this).is(":checked")?"enabled":"disabled";o.toast({heading:"Preview autoplay has been ".concat(e,"."),icon:"success",hideAfter:3e3,position:"top-right"})},showControlToast:function(){o.toast({text:"This control is not available for the selected player skin.",icon:"error",hideAfter:3e3,position:"top-right"})},scrollToPreview:function(){o("html, body").animate({scrollTop:o("#player_preview").offset().top-50},300)},disableStyles:function(){var e=o("#skin").val(),t=o(".player_width, .border_radius, .player_bg_color, .player_text_color, .player_btn_color, .player_btn_hover_color");t.removeClass("disabled"),1===parseInt(e)&&t.addClass("disabled"),e<3&&o(".player_text_color, .player_btn_color, .player_btn_hover_color").addClass("disabled")},playerBgColor:function(){o("#player_bg_color").wpColorPicker({change:function(e,t){o(".qap").css("--qap-bg-color",t.color.toString())},clear:function(){o("#qap_custom_css")[0].sheet.cssRules[0].style.removeProperty("--qap-bg-color"),o(".qap").css({"--qap-bg-color":""})}})},playerTextColor:function(){o("#player_text_color").wpColorPicker({change:function(e,t){o(".qap").css("--qap-text-color",t.color.toString())},clear:function(){o("#qap_custom_css")[0].sheet.cssRules[0].style.removeProperty("--qap-text-color"),o(".qap").css({"--qap-text-color":""})}})},playerButtonColor:function(){o("#player_btn_color").wpColorPicker({change:function(e,t){o(".qap").css("--qap-btn-color",t.color.toString())},clear:function(){o("#qap_custom_css")[0].sheet.cssRules[0].style.removeProperty("--plyr-audio-control-color"),o(".qap").css({"--qap-btn-color":""})}})},playerButtonHoverColor:function(){o("#player_btn_hover_color").wpColorPicker({change:function(e,t){o(".qap").css("--qap-btn-color-hover",t.color.toString())},clear:function(){o("#qap_custom_css")[0].sheet.cssRules[0].style.removeProperty("--qap-btn-color-hover"),o(".qap").css({"--qap-btn-color-hover":""})}})},setPlayerWidth:function(e,t){o(".qap").css("--qap-width",t.value+"px")},setBorderRadius:function(e,t){o(".qap").css("--qap-border-radius",t.value+"px")},handleControls:function(e){e.stopImmediatePropagation(),e.preventDefault();var t=s.getControls(),a=(o(".metabox_field.autoplay input[type=checkbox]").is(":checked"),o(".metabox_field.loop input[type=checkbox]").is(":checked"),o(".metabox_field.muted input[type=checkbox]").is(":checked"),{controls:t});s.getPlayer(a)},getControls:function(){var e=[];return o("#controls .switch input[type=checkbox]:checked").each((function(){var t=o(this).attr("name");t=t.replace("controls","").replace("[","").replace("]",""),e.push(t)})),e},initSlider:function(){o(".wpmilitary-slider").each((function(){var e=o(this),t=e.data("min"),a=e.data("max"),r=e.data("value");e.slider({range:"min",min:t,max:a,value:r,create:function(){o(".wpmilitary-slider-handle",e).text(o(this).slider("value"))},slide:function(t,a){var r=o(".wpmilitary-slider-handle",e);o("input",o(this)).val(a.value),r.text(a.value)}})}))},resetWidth:function(e){e.preventDefault(),o(this).parents(".player_width").length&&(o(".quick_audio_player",o("#audio_player_preview")).css("width","auto"),o("#player_width").val(""));var t=o(this).prev();o(".wpmilitary-slider-handle",t).text(""),t.slider("value","")},resetBorderRadius:function(e){e.preventDefault(),o(this).parents(".border_radius").length&&(o(".quick_audio_player").css("border-radius",0),o("#border_radius").val(""));var t=o(this).prev();o(".wpmilitary-slider-handle",t).text(0),t.slider("value",0)},handleSkins:function(e){e.preventDefault(),o(".skins__item").removeClass("active"),o(this).addClass("active");var t=o(this).data("skin");o("#skin").val(t),s.disableStyles(),s.checkPosterControl();var a=o(this).data("controls");s.checkControls(a);var r=o("#audio_file").val(),i={skin_id:t,post_id:o("#post_ID").val(),src:r,controls:s.getControls(),autoplay:o(".metabox_field.autoplay input[type=checkbox]").is(":checked")?"on":"off",loop:o(".metabox_field.loop input[type=checkbox]").is(":checked")?"on":"off",muted:o(".metabox_field.muted input[type=checkbox]").is(":checked")?"on":"off"};s.getPlayer(i)},getPlayer:function(e){var t=o("#skin").val(),i=o("#post_ID").val();e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({skin_id:t,post_id:i},e),s.scrollToPreview(),wp.ajax.send("qap_get_player",{data:e,success:function(e){console.log(e),e.html&&(o("#disable_autoplay").is(":checked")&&(e.html=o(e.html).find("audio").removeAttr("autoplay").end()),o("#audio_player_preview").html(e.html),o(document).trigger("doPlayerInit",{skin_id:t}))},error:function(e){console.log(e)}})},clickSwitch:function(e){if(!o(this).parents(".metabox_field ").hasClass("disabled")){var t=o(this).find("input[type=checkbox]");t.prop("checked",!t.prop("checked"))}},deleteAudio:function(e){e.preventDefault();var t=o(this).parents(".playlist_track");t.length||(t=o(this).parents(".single_type")),o(".audio_file_input, .audio_id_input",t).val(""),o(this).addClass("hidden")},selectAudio:function(e){e.preventDefault();var t=o(this).parents(".playlist_track");t.length||(t=o(this).parents(".single_type"));var a=wp.media.frames.file_frame=wp.media({title:"Select Audio",library:{type:"audio"},button:{text:"Done"},multiple:!1});a.on("select",(function(){var e=a.state().get("selection").first().toJSON(),r=e.id,i=e.url,l=e.title,n=e.meta,c=n.artist,p=n.album,d=e.image.src;o(".audio_id_input",t).val(r),o(".audio_file_input",t).val(i).change(),o(".track_title_input",t).val(l).change(),c&&o(".artist_input",t).val(c),p&&o(".album_input",t).val(p),o(".poster_input",t).val(d),o(".poster_preview img",t).attr("src",d),""!==l&&o(".header_track_title",t).val(l),o("audio").attr("src",i),o(".delete_audio",t).removeClass("hidden"),o(".delete_poster",t).removeClass("hidden");var u={playlist_item:s.getTracks("playlist"),track:s.getTracks()};s.getPlayer(u)})),a.open()},getTracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single",t=[],a="playlist"===e?".playlist_track":".single_type";return o(a).each((function(){var e=o(this).find(".audio_id_input").val(),a=o(this).find(".audio_file_input").val(),r=o(this).find(".track_title_input").val(),i=o(this).find(".artist_input").val(),l=o(this).find(".album_input").val(),s=o(this).find(".poster_input").val();t.push({audio_id:e,audio_file:a,track_title:r,artist:i,album:l,poster:s})})),"playlist"===e?t:t[0]},selectPoster:function(e){e.preventDefault();var t=o(this).parents(".playlist_track");t.length||(t=o(this).parents(".single_type"));var a=wp.media.frames.file_frame=wp.media({title:"Select Poster",library:{type:"image"},button:{text:"Done"},multiple:!1});a.on("select",(function(){var e=a.state().get("selection").first().toJSON();o(".poster_input",t).val(e.url).change(),o(".delete_poster",t).removeClass("hidden"),o(".poster_preview img",t).attr("src",e.url),o(".player_poster img").attr("src",e.url)})),a.open()},deletePoster:function(e){e.preventDefault();var t=o(this).parents(".playlist_track");t.length||(t=o(this).parents(".single_type")),o(".poster_preview img",t).attr("src",""),o(".poster_input",t).val(""),o(this).addClass("hidden")},metaboxTab:function(){o(".quick-audio-player-metabox-sidebar a, .content-tab").removeClass("active");var e=o(this).data("target");o(this).addClass("active"),o("#".concat(e)).addClass("active"),o(".quick-audio-player-promo").addClass("hidden"),localStorage.setItem("qap_active_tab",e)},metaboxInit:function(){var e=localStorage.getItem("qap_active_tab");e?o(".quick-audio-player-metabox-sidebar a[data-target=".concat(e,"], #").concat(e)).addClass("active"):o(".quick-audio-player-metabox-sidebar a:first-child, .content-tab:first-child").addClass("active")}},o(document).ready(s.init)}]);